:root {
  --bg:#0f1115;
  --panel:#1d222b;
  --panel-alt:#242b35;
  --accent:#2f9e44;
  --accent-glow:#3bc655;
  --danger:#e03131;
  --warn:#f08c00;
  --text:#edf2f7;
  --muted:#94a3b8;
  --card-w:72px;
  --card-h:104px;
  --radius:12px;
  --gradient:linear-gradient(145deg,#1e2a36,#102b1f 55%,#182026);
  font-family: 'Segoe UI', system-ui, Roboto, Arial, sans-serif;
}

* {
  box-sizing:border-box;
  -webkit-tap-highlight-color: transparent;
}

body {
  margin:0;
  background:radial-gradient(circle at 50% 30%, #1d4230, #0d1612 70%) fixed;
  color:var(--text);
  min-height:100vh;
  display:flex;
  justify-content:center;
}

h1,h2 {
  margin:0;
  font-weight:600;
  letter-spacing:.5px;
}

.app {
  width:100%;
  max-width:1400px;
  padding:1rem clamp(.5rem,2vw,2rem) 2rem;
  display:flex;
  flex-direction:column;
  gap:1rem;
}

.top-bar {
  display:flex;
  flex-wrap:wrap;
  gap:1.5rem;
  align-items:center;
  justify-content:space-between;
  background:var(--panel);
  padding:1rem 1.5rem;
  border:1px solid #25313d;
  border-radius:var(--radius);
  box-shadow:0 4px 18px -6px rgba(0,0,0,.6), 0 0 0 1px #1b252f inset;
}

.sound-toggle {
  background:var(--panel-alt);
  padding:.5rem .9rem;
  border-radius:999px;
  font-size:.8rem;
  box-shadow:0 0 0 1px #2b3741 inset;
}

.sound-toggle input {
  vertical-align:middle;
  transform:scale(1.1);
  margin-right:.35rem;
  cursor:pointer;
}

.stats {
  display:flex;
  flex-wrap:wrap;
  gap:1rem;
  font-size:.9rem;
}

.stats > div {
  background:var(--panel-alt);
  padding:.4rem .75rem;
  border-radius:999px;
  box-shadow:0 0 0 1px #27333f inset;
}

.table {
  display:grid;
  gap:1.5rem;
  background:var(--gradient);
  padding:2rem clamp(1rem,3vw,3rem);
  border-radius:calc(var(--radius) + 4px);
  position:relative;
  border:1px solid #203432;
  box-shadow:0 0 0 1px #162521 inset, 0 10px 35px -15px #000;
}

.participant {
  min-height:150px;
}

.participant h2 {
  font-size:1.1rem;
  display:flex;
  align-items:center;
  gap:.65rem;
  font-weight:500;
}

.hand-value {
  background:#223136;
  padding:.25rem .6rem;
  border-radius:8px;
  font-size:.85rem;
  box-shadow:0 0 0 1px #2e444a;
}

.cards {
  display:flex;
  flex-wrap:wrap;
  gap:.6rem;
  min-height:var(--card-h);
  padding:.5rem 0;
}

.card {
  position:relative;
  width:var(--card-w);
  height:var(--card-h);
  border-radius:10px;
  background:#fff;
  color:#111;
  font-weight:600;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  padding:.4rem .45rem .35rem;
  box-shadow:0 4px 12px -3px rgba(0,0,0,.6), 0 0 0 1px #d9d9d9 inset;
  transform-style:preserve-3d;
  animation:popIn .5s cubic-bezier(.21,1.02,.73,1) forwards;
}

@keyframes popIn {
  0% {transform:translateY(15px) scale(.85) rotate(-4deg); opacity:0;}
  60% {transform:translateY(-4px) scale(1.02);}
  100% {transform:translateY(0) scale(1); opacity:1;}
}

.card.red {
  color:#c5163a;
}

.card .rank {
  font-size:1.1rem;
}

.card .suit {
  font-size:1.15rem;
  line-height:1;
}

.card .center {
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:2.1rem;
  opacity:.18;
  pointer-events:none;
}

.card.back {
  background:linear-gradient(135deg,#18354a,#0d1f2b 55%,#162c3a);
  box-shadow:0 4px 12px -3px rgba(0,0,0,.6), 0 0 0 1px #0c202c inset, 0 0 0 2px #1e4d6a inset;
  overflow:hidden;
}

.card.back:before, .card.back:after {
  content:"";
  position:absolute;
  inset:0;
  background:
    repeating-linear-gradient(45deg,rgba(255,255,255,.08) 0 6px, transparent 6px 12px),
    repeating-linear-gradient(-45deg,rgba(255,255,255,.04) 0 6px, transparent 6px 12px);
  mix-blend-mode:overlay;
}

.message {
  font-size:1.05rem;
  text-align:center;
  min-height:2.2rem;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:.75rem 1.25rem;
  border-radius:14px;
  background:rgba(255,255,255,.05);
  backdrop-filter:blur(6px);
  border:1px solid rgba(255,255,255,.08);
  box-shadow:0 2px 10px -4px rgba(0,0,0,.5);
}

.status-panel {
  display:flex;
  justify-content:center;
}

.controls {
  display:grid;
  gap:1rem;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  background:var(--panel);
  padding:1.2rem 1.5rem 1.4rem;
  border-radius:var(--radius);
  border:1px solid #28323d;
  box-shadow:0 4px 18px -8px rgba(0,0,0,.7), 0 0 0 1px #1c252e inset;
  align-items:start;
}

.bank {
  font-size:1.05rem;
  background:var(--panel-alt);
  padding:.8rem 1rem;
  border-radius:12px;
  text-align:center;
  box-shadow:0 0 0 1px #2a3744 inset;
  font-weight:500;
  letter-spacing:.5px;
}

.bet-box {
  display:flex;
  flex-direction:column;
  gap:.65rem;
  background:var(--panel-alt);
  padding:.8rem 1rem 1rem;
  border-radius:12px;
  box-shadow:0 0 0 1px #2a3744 inset;
}

.bet-box input {
  width:100px;
  padding:.4rem .5rem;
  border-radius:8px;
  border:1px solid #3a4a57;
  background:#12181f;
  color:var(--text);
  font-size:.95rem;
  font-weight:500;
}

.bet-buttons {
  display:flex;
  flex-wrap:wrap;
  gap:.5rem;
}

.bet-buttons button {
  flex:1;
  min-width:60px;
}

.action-buttons {
  display:flex;
  flex-wrap:wrap;
  gap:.7rem;
  align-content:flex-start;
}

button {
  cursor:pointer;
  border:none;
  background:#24313d;
  color:var(--text);
  font-weight:500;
  padding:.65rem 1.1rem;
  font-size:.95rem;
  border-radius:10px;
  letter-spacing:.4px;
  position:relative;
  transition:.25s;
  box-shadow:0 2px 6px -2px rgba(0,0,0,.6), 0 0 0 1px #2f3d49 inset;
}

button:hover:not(:disabled) {
  background:#2f414f;
  transform:translateY(-2px);
  box-shadow:0 4px 10px -4px rgba(0,0,0,.65), 0 0 0 1px #3a4b57 inset;
}

button:active:not(:disabled) {
  transform:translateY(0);
  background:#2a3946;
}

button.primary {
  background:linear-gradient(145deg,var(--accent),var(--accent-glow));
  color:#fff;
  box-shadow:0 3px 14px -5px var(--accent), 0 0 0 1px #2b6f3b inset;
}

button.primary:hover:not(:disabled) {
  filter:brightness(1.08);
}

button.primary:active:not(:disabled) {
  filter:brightness(.92);
}

button:disabled {
  opacity:.4;
  cursor:not-allowed;
}

#newGameBtn {
  background:linear-gradient(145deg,#495057,#343a40);
  color:#fff;
  box-shadow:0 3px 12px -5px #000, 0 0 0 1px #505b65 inset;
}
#newGameBtn:hover:not(:disabled){
  filter:brightness(1.1);
}

.footer {
  text-align:center;
  font-size:.8rem;
  color:var(--muted);
  padding:.5rem .5rem 2rem;
  line-height:1.3;
}

.small {
  opacity:.7;
  max-width:780px;
  margin:0 auto;
}

@media (max-width:800px) {
  .cards { gap:.4rem; }
  .card {
    width:58px;
    height:86px;
    font-size:.85rem;
  }
  :root {
    --card-w:58px;
    --card-h:86px;
  }
  .top-bar { justify-content:center; }
  .stats { justify-content:center; }
  .controls { grid-template-columns:1fr; }
}

/* Win/Lose flash */
.flash-win { animation:flashWin 1.2s ease-in-out; }
.flash-lose { animation:flashLose 1.2s ease-in-out; }

@keyframes flashWin {
  0% {box-shadow:0 0 0 0 rgba(59,198,85,.0);}
  30% {box-shadow:0 0 0 6px rgba(59,198,85,.35);}
  100% {box-shadow:0 0 0 0 rgba(59,198,85,0);}
}
@keyframes flashLose {
  0% {box-shadow:0 0 0 0 rgba(224,49,49,0);}
  30% {box-shadow:0 0 0 6px rgba(224,49,49,.35);}
  100% {box-shadow:0 0 0 0 rgba(224,49,49,0);}
}